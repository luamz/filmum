{% extends "base.html" %}
{% load static %}
{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}" />
{% endblock %}

{% block navbar %}
    <!-- Navbar -->
   <nav id="nav" class="navbar navbar-dark navbar-expand-md fixed-top">
      <div class="container">
         <a class="navbar-brand" href="{% url 'filmes:index' %}"><img src="{% static 'images/logo/logo.png' %}" alt="Filmum" style="width: 200px;"></a>

         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu" aria-controls="menu"
            aria-expanded="false" aria-label="Botão de navegação">
            <span class="navbar-toggler-icon"></span>
         </button>

         <div class="collapse navbar-collapse" id="menu">
            <div class="navbar-nav ml-auto mr-auto">
               <ul class="nav nav-pills">
                  <li class="nav-item">
                     <a class="nav-link text-uppercase font-weight-bold" href="#filmes">Filmes</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link text-uppercase font-weight-bold" href="#listas">Listas</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link text-uppercase font-weight-bold" href="#pessoas">Pessoas</a>
                  </li>
               </ul>
            </div>

            <div class="navbar-nav ml-auto mr-auto">
               <a class="nav-link nav-item text-uppercase font-weight-bold" href="#cadastro-modal" data-toggle="modal">
                  Cadastrar-se
               </a>
               <a class="nav-link nav-item text-uppercase font-weight-bold" href="#entrar-modal" data-toggle="modal">
                  Entrar
               </a>
            </div>

            <form class="form-inline">
               <input class="form-control mr-sm-2" type="search" placeholder="" aria-label="Pesquisar"
                  id="barra-pesquisa">
               <button class="btn btn-outline-success my-2 my-sm-0" id="botao-pesquisa" type="submit">
                  <span aria-hidden="true" class="fas fa-search">
                     <span class="sr-only">Pesquisar</span>
                  </span>
               </button>
            </form>

         </div>
      </div>
   </nav>
{% endblock %}

{% block corpo %}

   <!-- Carousel que mostra filmes -->
   <div id="carousel-id" class="carousel carousel-fade slide d-none d-sm-block mb-4" style="margin-top: 69px;"
      data-ride="carousel" data-interval="3000">

      <ol class="carousel-indicators">
         <li data-target="#carousel-id" data-slide-to="0" class="active"></li>
         <li data-target="#carousel-id" data-slide-to="1"></li>
         <li data-target="#carousel-id" data-slide-to="2"></li>
         <li data-target="#carousel-id" data-slide-to="3"></li>
         <li data-target="#carousel-id" data-slide-to="4"></li>
      </ol>

      <div class="carousel-inner">

         <div class="carousel-item active" style="background-color: black;">
            <img src="{% static 'images/banners/'%}{{ banner0.banner }}" class="d-block w-100">
            <div class="carousel-caption">
               <div class="text-right">
                  <h4 class="font-italic">{{ banner0.nome }}({{ banner0.ano }})</h4>
               </div>
            </div>
         </div>

         <div class="carousel-item">
            <img src="{% static 'images/banners/'%}{{ banner1.banner }}" class="d-block w-100">
            <div class="carousel-caption">
               <div class="text-right">
                  <h4 class="font-italic">{{ banner1.nome }}({{ banner1.ano }})</h4>
               </div>
            </div>
         </div>

         <div class="carousel-item">
            <img src="{% static 'images/banners/'%}{{ banner2.banner }}" class="d-block w-100">
            <div class="carousel-caption">
               <div class="text-right">
                  <h4 class="font-italic">{{ banner2.nome }}({{ banner2.ano }})</h4>
               </div>
            </div>
         </div>

         <div class="carousel-item">
            <img src="{% static 'images/banners/'%}{{ banner3.banner }}" class="d-block w-100">
            <div class="carousel-caption">
               <div class="text-right">
                  <h4 class="font-italic">{{ banner3.nome }}({{ banner3.ano }})</h4>
               </div>
            </div>
         </div>

          <div class="carousel-item">
            <img src="{% static 'images/banners/'%}{{ banner4.banner }}" class="d-block w-100">
            <div class="carousel-caption">
               <div class="text-right">
                  <h4 class="font-italic">{{ banner4.nome }}({{ banner4.ano }})</h4>
               </div>
            </div>
         </div>

      </div>

   </div>

   <!-- Modal Cadastro -->
   <div class="modal fade" id="cadastro-modal">
      <div class="modal-dialog modal-md">
         <div class="modal-content">
            <div class="modal-header">
               <legend class=" modal-title font-weight-bold">Junte-se ao Filmum</legend>
               <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
               </button>
            </div>
            <div class="modal-body">
               <form action="">
                  <fieldset class="form-group">

                     <div class="form-group row">
                        <label for="nome" class="col-form-label col-lg-2">Email</label>
                        <div class="col-lg-10">
                           <input type="email" class="form-control is-valid" placeholder="Digite seu email..."
                              id="email-cadastro" name="email">
                        </div>
                     </div>

                     <div class="form-group row">
                        <label for="nome" class="col-form-label col-lg-2">Usuário</label>
                        <div class="col-lg-10">
                           <input type="text" class="form-control is-invalid"
                              placeholder="Escolha um nome de usuário..." id="text" name="text">
                           <div class="invalid-feedback">
                              Nome de usuário já utilizado.
                           </div>
                        </div>
                     </div>

                     <div class="form-group row">
                        <label for="senha" class="col-form-label col-lg-2">Senha</label>
                        <div class="col-lg-10">
                           <input type="password" id="senha-cadastro" name="senha cadastro" class="form-control is-valid"
                              placeholder="Escolha uma senha...">
                        </div>
                     </div>

                  </fieldset>

                  <div class="form-group-row">
                     <div class="col-lg-10 offset-lg-2">
                        <button type="button" class="btn btn-success" data-dismiss="modal">
                           Cadastrar
                        </button>
                     </div>
                  </div>

               </form>
            </div>
         </div>
      </div>
   </div>

   <!-- Modal Entrar -->
   <div class="modal fade" id="entrar-modal">
      <div class="modal-dialog modal-md">
         <div class="modal-content">
            <div class="modal-header">
               <legend class=" modal-title font-weight-bold">Login</legend>
               <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
               </button>
            </div>
            <div class="modal-body">
               <form action="">
                  <fieldset class="form-group">

                     <div class="form-group row">
                        <label for="nome" class="col-form-label col-lg-2">Email</label>
                        <div class="col-lg-10">
                           <input type="email" class="form-control is-valid" placeholder="Digite seu email..."
                              id="email-login" name="email">
                        </div>
                     </div>

                     <div class="form-group row">
                        <label for="senha" class="col-form-label col-lg-2">Senha</label>
                        <div class="col-lg-10">
                           <input type="password" id="senha-login" name="senha login" class="form-control is-valid"
                              placeholder="Escolha uma senha...">
                        </div>
                     </div>

                  </fieldset>

                  <div class="form-group-row">
                     <div class="col-lg-10 offset-lg-2">
                        <button type="button" class="btn btn-success" data-dismiss="modal">
                           Entrar
                        </button>
                     </div>
                  </div>

               </form>
            </div>
         </div>
      </div>
   </div>

   <!-- Conteúdo do site -->
   <div class="container">

      <!-- Frase de Chamada -->
      <h2 id="chamada" class="mb-3 text-center">A Rede Social para você que adora Cinema!</h2>


      <!-- Exposição do Poster de 6 filmes -->
      <div class="row">
          {% for filme_atual in filmes %}
              <div class="col-lg-2 col-md-2 col-sm-3 col-3">
                <a class="card mb-4" id="poster1" href="/filme">
                   <img src="{% static 'images/filmes/'%}{{ filme_atual.imagem }}" alt="{{ filme_atual.nome }} ({{ filme.ano }})">
                </a>
             </div>
          {% endfor %}
      </div>

      <!-- Coisas que se pode fazer no Filmum -->
      <div class="row coisas">
         <div class="col-12">
            <h3 class="mb-4"> Coisas que você pode fazer no Filmum</h3>
         </div>

         <div class="col-lg-3 col-md-3 mb-2">
            <div class="card bg-dark text-white text-center mb-4" style="height: 6rem;">
               <div class=" card-body">
                  <p class="card-text">Registrar e avaliar os filmes que você já viu</p>
               </div>
            </div>
         </div>

         <div class="col-lg-3 col-md-3 mb-2">
            <div class="card bg-dark text-white text-center mb-4" style="height: 6rem;">
               <div class="card-body">
                  <p class="card-text">Escrever críticas e resenhas<br> com suas opiniões</p>
               </div>
            </div>
         </div>

         <div class="col-lg-3 col-md-3 mb-2">
            <div class="card bg-dark text-white text-center mb-4" style="height: 6rem;">
               <div class="card-body">
                  <p class="card-text">Criar listas temáticas<br> com os filmes que desejar</p>
               </div>
            </div>
         </div>

         <div class="col-lg-3 col-md-3 mb-4">
            <div class="card bg-dark text-white text-center mb-4" style="height: 6rem;">
               <div class="card-body">
                  <p class="card-text">Elencar seus favoritos para<br> recomendar para amigos</p>
               </div>
            </div>
         </div>
      </div>

      <!-- Filmes populares da semana -->
      <div class="card bg-dark text-white mb-4" id="filmes">

         <div class="card-header" id="header-filmes">
            <h5 class="mb-0 font-weight-bold text-uppercase">Filmes populares essa semana</h5>
         </div>

         <div class="card-body mb-4">
            <div class="row">
                {% for resenha in resenhas %}
                    <div class="col-lg-6">
                      <div class="media">

                         <!-- Poster do filme -->
                         <a href="filme/">
                             <img src="{% static 'images/filmes/'%}{{ resenha.filme.imagem }}" alt="{{ resenha.filme.nome }} ({{ resenha.filme.ano }})"
                                  class="poster">
                         </a>

                         <div class="media-body">
                            <!-- Dados de quem fez a resenha -->
                            <a href="perfil/">
                               <div class="row px-2">
                                  <img class="thumbnail rounded-circle  mr-3" style="max-width: 40px;"
                                     src="{% static 'images/perfis/'%}{{ resenha.perfil.foto }}" />
                                  <h5 class="mt-2 ">{{ resenha.perfil.nickname }}</h5>
                               </div>
                            </a>

                            <!-- Nome do filme -->
                            <a href="filme/">
                               <h3 class="font-weight-bold">{{ resenha.filme.nome }}</h3>
                            </a>

                            <!-- Avaliação e ano de Lançamento -->
                            <div class="row">

                               <h5 class="col-sm-8">
                                  <i class="fas fa-star fa-xs" style="color: gold;"></i>
                                  <i class="fas fa-star fa-xs" style="color: gold;"></i>
                                  <i class="fas fa-star fa-xs" style="color: gold;"></i>
                                  <i class="fas fa-star fa-xs" style="color: gold;"></i>
                                  <i class="fas fa-star fa-xs" style="color: gold;"></i>
                                  <i class="fas fa-heart fa-xs" style="color: red;"></i>
                               </h5>
                               <h5 class="col-sm-4">({{ resenha.filme.ano }})</h5>
                            </div>

                            <!-- Resenha -->
                            <span class="texto-media-body">
                               <p>
                                  {{resenha.texto}}
                               </p>
                            </span>
                         </div>
                      </div>
                   </div>
                {% endfor %}
            </div>
         </div>
      </div>

      <!-- Listas populares da semana -->
      <div class="card bg-dark text-white mb-4" id="listas">

         <div class="card-header" id="header-listas">
            <h5 class="mb-0 font-weight-bold text-uppercase">Listas populares essa semana</h5>
         </div>

         <div class="card-body mb-4">

            <div class="media">
               <div class="media-body">
                  <div class="row px-2">
                      {% for lista in listas %}
                           <!-- Lista 1 -->
                         <div class="col-lg-6" id="lista1">
                            <a href="lista/">
                               <h4 class="font-weight-bold">{{ lista.nome }}</h4>
                            </a>
                            <div class="row px-2 mb-2">
                               <h6 class="ml-2 mt-3 mr-3">
                                   {{lista.curtidas}}
                                  <i class="fas fa-thumbs-up fa-xs" style="color: #dc50f8;"></i>
                               </h6>
                               <a href="perfil/">
                                  <img class="thumbnail rounded-circle" style="max-width: 40px;"
                                     src="{% static 'images/perfis/'%}{{ lista.perfil.foto }}" />
                               </a>
                               <a href="perfil/">
                                  <h5 class="mt-2 ">{{ lista.perfil.nickname }}</h5>
                               </a>
                            </div>
                         </div>
                      {% endfor %}




                  </div>
               </div>
            </div>
         </div>



      </div>

      <!-- Pessoas populares da semana -->
      <div class="card bg-dark text-white mb-4" id="pessoas">

         <div class="card-header" id="header-pessoas">
            <h5 class="mb-0 font-weight-bold text-uppercase">Pessoas populares essa semana</h5>
         </div>

         <div class="card-body mb-4">
            <div class="row">
                {% for perfil in perfis %}
                    <!-- Pessoa 1-->
                   <div class="col-lg-3 col-md-6" id="pessoa1">
                      <div class="row px-2 mb-2">
                         <a href="perfil/">
                            <img class="thumbnail rounded-circle mr-3  mb-2" style="max-width: 40px;"
                               src="{% static 'images/perfis/'%}{{ perfil.foto }}" />
                         </a>
                         <a href="perfil/">
                            <h4 class="mt-2 ">{{ perfil.nickname }}</h4>
                         </a>

                      </div>
                      <div class="row ml-4">
                         <h6 class="col-lg-4">{{ perfil.total_filmes_vistos }} Filmes</h6>
                         <h6 class="col-lg-6">{{ perfil.seguidores }} Seguidores</h6>
                      </div>

                   </div>
                {% endfor %}
            </div>
         </div>
      </div>

   </div>

{% endblock %}